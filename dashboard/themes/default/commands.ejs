<%- await include("partials/header", { bot, user, title: `Commands | ${bot?.user?.username}` , is_logged, dashboardDetails, dashboardConfig, hasClientSecret }) %>

  <div class="d-flex align-items-stretch">
    <!-- Sidebar Navigation-->
    <nav id="sidebar">
      <!-- Sidebar Header-->
      <% if(is_logged) { %>
        <div class="sidebar-header d-flex align-items-center p-4"><img class="avatar shadow-0 img-fluid rounded-circle"
            src="https://cdn.discordapp.com/avatars/<%= user?.id %>/<%= user?.avatar %>.png" alt="...">
          <div class="ms-3 title">
            <h1 class="h5 mb-1">
              <%= user?.username %>
            </h1>
            <p class="text-sm text-gray-700 mb-0 lh-1">
              Version: v<%= version %>
            </p>
          </div>
        </div>
      <% } else { %>
        <div class="sidebar-header d-flex align-items-center p-4"><img class="avatar shadow-0 img-fluid rounded-circle"
            src="<%= bot?.user?.displayAvatarURL() %>" alt="...">
          <div class="ms-3 title">
            <h1 class="h5 mb-1">
              <%= bot?.user?.username %>
            </h1>
            <p class="text-sm text-gray-700 mb-0 lh-1">
              Version: v<%= version %>
            </p>
          </div>
        </div>
      <% }  %>
      <span class="text-uppercase text-gray-600 text-xs mx-3 px-2 heading mb-2">Main</span>
      <ul class="list-unstyled">
        <li class="sidebar-item"><a class="sidebar-link" href="/">
            <svg class="svg-icon svg-icon-sm svg-icon-heavy">
              <use xlink:href="#real-estate-1"> </use>
            </svg><span>Home </span></a></li>
        <% if(commands.length> 0) { %>
          <li class="sidebar-item active"><a class="sidebar-link" href="/commands">
              <svg class="svg-icon svg-icon-sm svg-icon-heavy">
                <use xlink:href="#checkmark-1"> </use>
              </svg><span>Commands </span></a></li>
          <% } %>
          <% if(is_logged) { %>
            <li class="sidebar-item"><a class="sidebar-link" href="/dashboard">
                <svg class="svg-icon svg-icon-sm svg-icon-heavy">
                  <use xlink:href="#portfolio-grid-1"> </use>
                </svg><span>Dashboard </span></a></li>
          <% } else { %>
            <li class="sidebar-item"><a class="sidebar-link" href="/auth/login">
                <svg class="svg-icon svg-icon-sm svg-icon-heavy">
                  <use xlink:href="#disable-1"> </use>
                </svg><span>Login </span></a></li>
          <% } %>
      </ul>
      <span class="text-uppercase text-gray-600 text-xs mx-3 px-2 heading mb-2">Extra</span>
      <ul class="list-unstyled">
        <li class="sidebar-item"><a class="sidebar-link" href="https://discord.com/oauth2/authorize?client_id=<%= bot?.user?.id %>&scope=bot%20applications.commands&permissions=8">
            <svg class="svg-icon svg-icon-sm svg-icon-heavy">
              <use xlink:href="#paper-stack-1"> </use>
            </svg><span>Invite Bot </span></a></li>
      </ul>
    </nav>
    <div class="page-content form-page">
      <!-- Page Header-->
      <div class="bg-dash-dark-2 py-4">
        <div class="container-fluid">
          <h2 class="h5 mb-0">Tables</h2>
        </div>
      </div>
      <!-- Breadcrumb-->
      <div class="container-fluid py-2">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb mb-0 py-3 px-0">
            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">Tables</li>
          </ol>
        </nav>
      </div>
      <section class="tables py-0">
        <div class="container-fluid">
          <div class="row gy-4">
            <div class="col-lg-10">
              <div class="card-header">
                <h2>
                  <%= dashboardDetails.name %>'s commands
                </h2>
                <hr>

                <div class="card-body pt-0">
                  <div class="table-responsive">
                    <table class="table mb-0 table-striped table-sm">
                      <thead>
                        <tr>
                          <th scope="col">#</th>
                          <th scope="col">Name</th>
                          <th scope="col">Description</th>
                          <th scope="col">Usage</th>
                          <th scope="col">Permission</th>
                        </tr>
                      </thead>
                      <tbody>
                        <% commands.forEach((command, rank)=> { %>
                          <tr>
                            <th scope="row">
                              <%= rank + 1 %>
                            </th>
                            <td>
                              <%= command.name %>
                            </td>
                            <td>
                              <%= command.description %>
                            </td>
                            <td>
                              <%= command.usage %>
                            </td>
                            <td>
                              <%- command.permission ? command.permission : "NO PERMISSIONS NEEDED" %>
                            </td>
                          </tr>
                          <% }) %>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-2">
              <% if(dashboardDetails.serverUrl) { %>
                <p>Need more help ?</p>
                <a class="btn btn-warning" href="<%= dashboardDetails.serverUrl %>">Discord Server</a>
                <% } %>
            </div>
          </div>
        </div>
      </section>
    </div>
    <%- await include("partials/footer") %>